# Starship configuration
format = """
$username\
$hostname\
$directory\
$git_branch\
$git_status\
$python\
$nodejs\
$deno\
$golang\
$rust\
$package\
$kubernetes\
$memory_usage\
$custom\
$cmd_duration\
$time\
$line_break\
$character"""

[character]
success_symbol = "[❯](bold green)"
error_symbol = "[❯](bold red)"

[directory]
style = "blue bold"
truncation_length = 3
truncate_to_repo = false

[git_branch]
symbol = "🌿 "
style = "bright-green bold"

[git_status]
style = "red bold"

[python]
symbol = "🐍 "
python_binary = "python"

[nodejs]
symbol = "⬢ "
style = "bright-green bold"
detect_extensions = ["js", "mjs", "cjs", "jsx", "tsx", "ts"]
not_capable_style = "bold red"
# Hide Node.js if Deno is detected
detect_files = ["package.json", ".node-version", ".nvmrc"]
# Only show Node when package.json is in the directory (not for global node)
detect_folders = []

[deno]
symbol = "🦕 "
style = "green bold"
detect_extensions = ["ts", "tsx", "js", "jsx"]
detect_files = ["deno.json", "deno.jsonc", "mod.ts", "deps.ts", "lock.json"]

[golang]
symbol = "🐹 "

[rust]
symbol = "🦀 "

[kubernetes]
disabled = false
symbol = "☸️ "

[memory_usage]
disabled = false
threshold = 75
style = "bold dimmed green"
format = "$symbol[${ram}( | ${swap})]($style) "

[custom.processes]
command = "echo -n \"PROC: $(ps -e --no-header | wc -l)/$(ulimit -u)\""
when = "true"
style = "bold yellow"
format = "[$output]($style) "

[custom.cpu]
command = "top -bn1 | grep 'Cpu(s)' | awk '{print $2+$4 \"%\"}'"
when = "true"
style = "bold dimmed green"
format = "CPU: [$output]($style) "

[time]
disabled = false
style = "white bold"
format = "[$time]($style)"
