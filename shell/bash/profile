#!/bin/bash
# Minimal login shell entrypoint

# Set HOME if missing
[ -z "$HOME" ] && export HOME="/home/mhugo"

# Set PATH if empty or broken
if [ -z "$PATH" ] || [ "$PATH" = "/" ]; then
  export PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
fi

# Add user paths
export PATH="$HOME/.local/bin:$HOME/.cargo/bin:$PATH"

export DOTFILES_ROOT="${DOTFILES_ROOT:-$HOME/.dotfiles}"

# Load bashrc if it exists
if [[ -f "$DOTFILES_ROOT/shell/bash/bashrc" ]]; then
  source "$DOTFILES_ROOT/shell/bash/bashrc"
fi
