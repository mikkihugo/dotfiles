#!/bin/zsh
# Primary interactive Zsh configuration

export DOTFILES_ROOT="${DOTFILES_ROOT:-$HOME/.dotfiles}"
export DOTFILES_SHELL=zsh

# Optional agent shell integration (guard against missing binary)
[ -x "$HOME/.local/bin/agent" ] && eval "$("$HOME/.local/bin/agent" shell-integration zsh)"

source "$DOTFILES_ROOT/shell/shared/env.sh"
source "$DOTFILES_ROOT/shell/shared/aliases.sh"
source "$DOTFILES_ROOT/shell/shared/tooling.sh"

modules_dir="$DOTFILES_ROOT/shell/zsh/modules"
if [[ -d "$modules_dir" ]]; then
  for module in "$modules_dir"/*.zsh; do
    [[ -r "$module" ]] || continue
    source "$module"
  done
fi

unset modules_dir
export PATH="$HOME/.npm-global/bin:$PATH"

# Add Cargo bin to PATH
export PATH="$HOME/.cargo/bin:$PATH"

# AI API Configuration - llm-gateway
# DISABLED: Interferes with Claude Code authentication
# export OPENAI_API_BASE="https://llm-gateway.centralcloud.com/v1"
# export OPENAI_BASE_URL="https://llm-gateway.centralcloud.com/v1"
# export OPENAI_API_KEY="BNgh9981doggy!!"
#
# export ANTHROPIC_API_BASE="https://llm-gateway.centralcloud.com/v1"
# export ANTHROPIC_BASE_URL="https://llm-gateway.centralcloud.com/v1"
# export ANTHROPIC_API_KEY="BNgh9981doggy!!"
#
# export GEMINI_API_BASE="https://llm-gateway.centralcloud.com/v1"
# export GEMINI_BASE_URL="https://llm-gateway.centralcloud.com/v1"
# export GEMINI_API_KEY="BNgh9981doggy!!"
#
# # Generic AI configuration
# export AI_API_KEY="BNgh9981doggy!!"
# export LLM_API_BASE="https://llm-gateway.centralcloud.com/v1"
